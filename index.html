<!DOCTYPE html>
<html lang="de-CH">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tender Scout Prototype</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="container navbar-container">
            <!-- Logo -->
            <div class="navbar-logo" onclick="navigateTo('landing')">
                <div class="navbar-logo-icon">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/>
                        <polyline points="14,2 14,8 20,8"/>
                    </svg>
                </div>
                <span>Tender Scout</span>
            </div>

            <!-- Center Nav Links (Public) -->
            <div id="nav-links-public" class="navbar-center">
                <a href="#solution" class="nav-link">Funktionen</a>
                <a href="#how-it-works" class="nav-link">So funktioniert's</a>
                <a href="#pricing" class="nav-link">Preise</a>
            </div>

            <!-- Center Nav Links (Auth) -->
            <div id="nav-links-auth" class="navbar-center hidden">
                <button class="nav-link" data-goto="dashboard">Dashboard</button>
                <button class="nav-link" onclick="navigateTo('settings')">Einstellungen</button>
            </div>

            <!-- Right Actions -->
            <div class="navbar-actions">
                <!-- Language Dropdown -->
                <div class="lang-dropdown">
                    <button class="lang-dropdown-btn" onclick="toggleLangDropdown()">
                        <span class="lang-current">DE</span>
                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="6 9 12 15 18 9"/>
                        </svg>
                    </button>
                    <div class="lang-dropdown-menu" id="lang-menu">
                        <button class="lang-option is-active" onclick="selectLang('DE')">
                            <span>ðŸ‡©ðŸ‡ª</span> Deutsch
                        </button>
                        <button class="lang-option" onclick="selectLang('FR')">
                            <span>ðŸ‡«ðŸ‡·</span> FranÃ§ais
                        </button>
                        <button class="lang-option" onclick="selectLang('IT')">
                            <span>ðŸ‡®ðŸ‡¹</span> Italiano
                        </button>
                        <button class="lang-option" onclick="selectLang('EN')">
                            <span>ðŸ‡¬ðŸ‡§</span> English
                        </button>
                    </div>
                </div>
                <!-- CTA -->
                <div id="nav-cta-public">
                    <button class="btn btn-primary btn-sm" data-goto="auth">Login</button>
                </div>
                <div id="nav-cta-auth" class="hidden">
                    <button class="btn btn-ghost btn-sm" onclick="logout()">Abmelden</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- VIEWS -->

    <!-- 1. Landing View -->
    <div id="view-landing" class="view active">
        <!-- Hero -->
        <section class="landing-hero">
            <div class="container">
                <div class="hero-content">
                    <span class="hero-badge">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/>
                        </svg>
                        Neu: KI-Analyse 2.0
                    </span>
                    <h1 class="hero-title">
                        Gewinnen Sie mehr<br>
                        <span class="hero-accent">Ã¶ffentliche AuftrÃ¤ge</span>
                    </h1>
                    <p class="hero-subtitle">
                        Schluss mit stundenlangem Suchen. Unsere KI durchsucht SIMAP und alle
                        kantonalen AmtsblÃ¤tter â€“ und meldet Ihnen nur passende Ausschreibungen.
                    </p>
                    <div class="hero-actions">
                        <button class="btn btn-primary btn-lg" data-goto="auth">
                            Kostenlos testen
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M5 12h14M12 5l7 7-7 7"/>
                            </svg>
                        </button>
                        <button class="btn btn-secondary btn-lg" onclick="document.getElementById('how-it-works').scrollIntoView({behavior: 'smooth'})">
                            Wie es funktioniert
                        </button>
                    </div>
                    <p class="hero-note">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="20,6 9,17 4,12"/>
                        </svg>
                        Keine Kreditkarte erforderlich â€¢ 14 Tage kostenlos
                    </p>
                </div>
            </div>
        </section>

        <!-- Stats -->
        <section class="stats-section">
            <div class="container">
                <div class="stats-grid">
                    <div class="stat">
                        <div class="stat-value">CHF 40 Mrd.</div>
                        <div class="stat-label">Schweizer Beschaffungsmarkt</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value">27</div>
                        <div class="stat-label">Datenquellen tÃ¤glich</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value">10+ Std.</div>
                        <div class="stat-label">Zeitersparnis pro Woche</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Problem Section -->
        <section class="section" id="problem">
            <div class="container">
                <div class="section-header">
                    <span class="section-label">Das Problem</span>
                    <h2 class="section-title">Die Suche kostet Sie Zeit und AuftrÃ¤ge</h2>
                    <p class="section-desc">Wer manuell sucht, verpasst Chancen.</p>
                </div>
                <div class="problem-grid">
                    <div class="problem-card">
                        <div class="problem-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
                                <line x1="8" y1="21" x2="16" y2="21"/>
                                <line x1="12" y1="17" x2="12" y2="21"/>
                            </svg>
                        </div>
                        <h3>Verstreute Quellen</h3>
                        <p>SIMAP plus 26 kantonale AmtsblÃ¤tter â€“ viele Quellen, kein zentraler Ãœberblick.</p>
                    </div>
                    <div class="problem-card">
                        <div class="problem-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"/>
                                <polyline points="12,6 12,12 16,14"/>
                            </svg>
                        </div>
                        <h3>Zu viel Rauschen</h3>
                        <p>CPV-Codes allein reichen nicht â€“ relevante AuftrÃ¤ge gehen im Datenwust unter.</p>
                    </div>
                    <div class="problem-card">
                        <div class="problem-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
                                <line x1="12" y1="9" x2="12" y2="13"/>
                                <line x1="12" y1="17" x2="12.01" y2="17"/>
                            </svg>
                        </div>
                        <h3>Zu spÃ¤t dran</h3>
                        <p>Bis Sie die passende Ausschreibung finden, lÃ¤uft die Frist bereits ab.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Solution Grid -->
        <section class="section bg-subtle" id="solution">
            <div class="container">
                <div class="section-header">
                    <span class="section-label">Unsere LÃ¶sung</span>
                    <h2 class="section-title">Tender Scout</h2>
                    <p class="section-desc">Ihr intelligenter Assistent fÃ¼r Ã¶ffentliche Ausschreibungen.</p>
                </div>
                <div class="solution-grid">
                    <div class="solution-card">
                        <div class="solution-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="11" cy="11" r="8"/>
                                <line x1="21" y1="21" x2="16.65" y2="16.65"/>
                            </svg>
                        </div>
                        <h3>Automatisches Profil</h3>
                        <p>Firmenname eingeben â€“ wir holen Ihre Daten direkt aus dem Handelsregister.</p>
                    </div>
                    <div class="solution-card">
                        <div class="solution-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/>
                            </svg>
                        </div>
                        <h3>KI, die versteht</h3>
                        <p>Unsere KI erkennt Kontext: Â«SanierungÂ» ist nicht Â«NeubauÂ».</p>
                    </div>
                    <div class="solution-card">
                        <div class="solution-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"/>
                                <line x1="2" y1="12" x2="22" y2="12"/>
                                <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
                            </svg>
                        </div>
                        <h3>Alle Quellen, ein Ort</h3>
                        <p>SIMAP und alle 26 kantonalen AmtsblÃ¤tter â€“ tÃ¤glich aktualisiert.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- How it Works -->
        <section id="how-it-works" class="section">
            <div class="container">
                <div class="section-header">
                    <span class="section-label">So funktioniert's</span>
                    <h2 class="section-title">In 3 Schritten zu mehr AuftrÃ¤gen</h2>
                    <p class="section-desc">Einrichten, zurÃ¼cklehnen, gewinnen.</p>
                </div>
                <div class="steps-grid">
                    <div class="step-card">
                        <div class="step-number">1</div>
                        <h3>Firma eingeben</h3>
                        <p>Nur Ihr Firmenname â€“ den Rest erledigen wir.</p>
                    </div>
                    <div class="step-card">
                        <div class="step-number">2</div>
                        <h3>KI findet Matches</h3>
                        <p>Unsere KI analysiert tÃ¤glich neue Ausschreibungen fÃ¼r Sie.</p>
                    </div>
                    <div class="step-card">
                        <div class="step-number">3</div>
                        <h3>Sie gewinnen</h3>
                        <p>Passende Ausschreibungen landen direkt in Ihrem Dashboard.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Pricing -->
        <section class="section pricing-section" id="pricing">
            <div class="container">
                <div class="section-header">
                    <span class="section-label">Preise</span>
                    <h2 class="section-title">Kostenlos starten, wachsen wenn bereit</h2>
                    <p class="section-desc">Keine Kreditkarte erforderlich. Upgraden Sie wenn Sie AuftrÃ¤ge gewinnen.</p>
                </div>
                <div class="pricing-grid">
                    <!-- Starter -->
                    <div class="pricing-card">
                        <div class="pricing-header">
                            <div class="pricing-name">Starter</div>
                            <div class="pricing-desc">FÃ¼r den Einstieg</div>
                            <div class="pricing-price">
                                <span class="pricing-amount">CHF 0</span>
                                <span class="pricing-period">/ Monat</span>
                            </div>
                        </div>
                        <div class="pricing-features">
                            <div class="pricing-feature">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="20,6 9,17 4,12"/>
                                </svg>
                                <span>1 Suchprofil</span>
                            </div>
                            <div class="pricing-feature">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="20,6 9,17 4,12"/>
                                </svg>
                                <span>WÃ¶chentliche Updates</span>
                            </div>
                            <div class="pricing-feature">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="20,6 9,17 4,12"/>
                                </svg>
                                <span>Simap Basic</span>
                            </div>
                            <div class="pricing-feature">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="20,6 9,17 4,12"/>
                                </svg>
                                <span>E-Mail-Benachrichtigungen</span>
                            </div>
                        </div>
                        <button class="btn btn-secondary w-full" data-goto="auth">Kostenlos starten</button>
                    </div>
                    <!-- Pro -->
                    <div class="pricing-card is-featured">
                        <span class="pricing-badge">Empfohlen</span>
                        <div class="pricing-header">
                            <div class="pricing-name">Professional</div>
                            <div class="pricing-desc">FÃ¼r ambitionierte KMU</div>
                            <div class="pricing-price">
                                <span class="pricing-amount">CHF 99</span>
                                <span class="pricing-period">/ Monat</span>
                            </div>
                        </div>
                        <div class="pricing-features">
                            <div class="pricing-feature">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="20,6 9,17 4,12"/>
                                </svg>
                                <span>5 Suchprofile</span>
                            </div>
                            <div class="pricing-feature">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="20,6 9,17 4,12"/>
                                </svg>
                                <span>TÃ¤gliche Updates</span>
                            </div>
                            <div class="pricing-feature">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="20,6 9,17 4,12"/>
                                </svg>
                                <span><strong>KI-Matching & Analyse</strong></span>
                            </div>
                            <div class="pricing-feature">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="20,6 9,17 4,12"/>
                                </svg>
                                <span>Alle KantonsblÃ¤tter</span>
                            </div>
                            <div class="pricing-feature">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="20,6 9,17 4,12"/>
                                </svg>
                                <span>PrioritÃ¤ts-Support</span>
                            </div>
                        </div>
                        <button class="btn btn-primary w-full" data-goto="auth">14 Tage kostenlos testen</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- CTA -->
        <section class="cta-section">
            <div class="container">
                <div class="cta-content">
                    <h2>Bereit fÃ¼r mehr Ã¶ffentliche AuftrÃ¤ge?</h2>
                    <p>Schweizer KMU sparen mit Tender Scout Ã¼ber 10 Stunden pro Woche â€“ und verpassen keine Ausschreibung mehr.</p>
                    <button class="btn btn-lg cta-btn" data-goto="auth">
                        Jetzt kostenlos starten
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M5 12h14M12 5l7 7-7 7"/>
                        </svg>
                    </button>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="landing-footer">
            <div class="container">
                <div class="footer-grid">
                    <div class="footer-brand">
                        <div class="footer-logo">
                            <div class="logo-icon">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/>
                                    <polyline points="14,2 14,8 20,8"/>
                                    <path d="m9 15 3 3 3-3"/>
                                    <path d="M12 12v6"/>
                                </svg>
                            </div>
                            <span>Tender Scout</span>
                        </div>
                        <p>Wir demokratisieren den Zugang zu Ã¶ffentlichen AuftrÃ¤gen fÃ¼r kleine Unternehmen in der Schweiz.</p>
                    </div>
                    <div class="footer-section">
                        <h4>Produkt</h4>
                        <div class="footer-links">
                            <a href="#solution">Funktionen</a>
                            <a href="#pricing">Preise</a>
                            <a href="#">Roadmap</a>
                        </div>
                    </div>
                    <div class="footer-section">
                        <h4>Ressourcen</h4>
                        <div class="footer-links">
                            <a href="#">Blog</a>
                            <a href="#">Support</a>
                            <a href="#">Kontakt</a>
                            <a href="#" onclick="navigateTo('auth'); return false;">Login</a>
                        </div>
                    </div>
                </div>
                <div class="footer-bottom">
                    <span class="footer-copy">&copy; 2026 Tender Scout Schweiz AG. Made in Zurich.</span>
                    <div class="footer-legal">
                        <a href="#">Datenschutz</a>
                        <a href="#">AGB</a>
                        <a href="#">Impressum</a>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- 2. Auth View -->
    <div id="view-auth" class="view">
        <div class="container">
            <div class="auth-container card">
                <h2 class="text-h1 text-center mb-6">Anmelden</h2>
                <form onsubmit="event.preventDefault(); navigateTo('profile-selection');">
                    <div class="form-group">
                        <label class="form-label">E-Mail</label>
                        <input type="email" class="input" placeholder="name@firma.ch" value="demo@tenderscout.ch">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Passwort</label>
                        <input type="password" class="input" value="password123">
                    </div>
                    <button type="submit" class="btn btn-primary w-full">Weiter</button>
                    <div class="text-center text-sm text-secondary mt-4">
                        Noch kein Konto? <a href="#" class="text-accent">Registrieren</a>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- 2.5 Profile Selection View (New) -->
    <div id="view-profile-selection" class="view">
        <div class="container container--narrow pt-12">
            <div class="text-center mb-8">
                <h2 class="text-h1">Suchprofile</h2>
                <p class="text-secondary">WÃ¤hlen Sie ein Profil oder erstellen Sie ein neues.</p>
            </div>

            <div id="profile-list" class="flex flex-col gap-4">
                <!-- Profiles injected by JS -->
            </div>

            <button class="btn btn-lg btn-secondary w-full mt-4 border-dashed" onclick="navigateTo('company-search')">
                + Neues Suchprofil erstellen
            </button>
        </div>
    </div>

    <!-- 3. Company Search View -->
    <div id="view-company-search" class="view">
        <div class="container container--narrow pt-12">
            <div class="wizard-steps">
                <div class="step-dot active"></div>
                <div class="step-dot"></div>
                <div class="step-dot"></div>
            </div>

            <div class="text-center mb-8">
                <h2 class="text-h1">Unternehmen finden</h2>
                <p class="text-secondary">Wir analysieren Ihr Firmenprofil automatisch.</p>
            </div>

            <div class="card">
                <div class="form-group">
                    <label class="form-label">Firmenname oder UID</label>
                    <input type="text" id="company-search-input" class="input" placeholder="z.B. MÃ¼ller Bau..."
                        autofocus>
                    <div class="mt-2 text-xs text-secondary">
                        Demo Unternehmen:
                        <span class="badge badge-gray cursor-pointer" onclick="setSearch('MÃ¼ller')">MÃ¼ller</span>
                        <span class="badge badge-gray cursor-pointer" onclick="setSearch('Tech')">Tech</span>
                        <span class="badge badge-gray cursor-pointer" onclick="setSearch('Green')">Green</span>
                        <span class="badge badge-gray cursor-pointer" onclick="setSearch('Alpha')">Alpha</span>
                    </div>
                </div>

                <div id="company-search-results" class="flex flex-col gap-2">
                    <!-- Results injected by JS -->
                </div>

                <div class="text-center text-sm text-muted mt-6">
                    Firma nicht gefunden? <a href="#" class="text-accent">Manuell eingeben</a>
                </div>
            </div>
        </div>
    </div>

    <!-- 4. AI Review View -->
    <div id="view-ai-review" class="view">
        <!-- AI Loading Overlay (New) -->
        <div id="ai-loading-overlay" class="flex flex-col items-center justify-center hidden h-60vh">
            <div class="ai-orb"></div>
            <div class="text-h3 mt-8 text-accent" id="ai-loading-text">Scanning Zefix...</div>
            <div class="text-sm text-secondary mt-2">Please wait while we build your profile</div>
        </div>

        <div id="ai-results-content" class="container container--narrow pt-12 hidden">
            <div class="wizard-steps">
                <div class="step-dot completed"></div>
                <div class="step-dot active"></div>
                <div class="step-dot"></div>
            </div>

            <div class="text-center mb-8">
                <div class="badge badge-blue mb-2">AI Analysis Complete</div>
                <h2 class="text-h1">Ist das Ihr Profil?</h2>
                <p class="text-secondary">Basierend auf <strong id="ai-company-name">...</strong></p>
            </div>

            <div class="flex flex-col gap-4">
                <!-- Industry -->
                <div class="card">
                    <div class="flex justify-between items-center mb-2">
                        <div class="text-sm text-muted">Branche</div>
                        <button class="btn btn-sm btn-ghost text-accent"
                            onclick="openEditModal('industry')">Ã„ndern</button>
                    </div>
                    <div id="ai-industry" class="text-h3">Baugewerbe / Hochbau</div>
                </div>

                <!-- Company Size (New) -->
                <div class="card">
                    <div class="flex justify-between items-center mb-2">
                        <div class="text-sm text-muted">UnternehmensgrÃ¶sse</div>
                        <button class="btn btn-sm btn-ghost text-accent" onclick="openEditModal('size')">Ã„ndern</button>
                    </div>
                    <div id="ai-size" class="text-h3">10-49 Mitarbeitende</div>
                </div>

                <!-- Keywords (New) -->
                <div class="card">
                    <div class="flex justify-between items-center mb-2">
                        <div class="text-sm text-muted">Keywords (Suche / Ausschluss)</div>
                        <button class="btn btn-sm btn-ghost text-accent"
                            onclick="openEditModal('keywords')">Ã„ndern</button>
                    </div>
                    <div id="ai-keywords" class="flex flex-wrap gap-2">
                        <!-- Populated by JS -->
                    </div>
                </div>

                <!-- CPV Codes -->
                <div class="card">
                    <div class="flex justify-between items-center mb-2">
                        <div class="text-sm text-muted">Empfohlene CPV Codes</div>
                        <button class="btn btn-sm btn-ghost text-accent" onclick="openEditModal('cpv')">Ã„ndern</button>
                    </div>
                    <div id="ai-cpv-codes" class="flex flex-col gap-2">
                        <div class="flex items-center gap-2">
                            <span class="text-accent">âœ“</span> <span>45210000 - Hochbauarbeiten</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <span class="text-accent">âœ“</span> <span>45260000 - Dachdeckarbeiten</span>
                        </div>
                    </div>
                </div>

                <!-- NPK Codes (New - Conditional) -->
                <div id="ai-npk-section" class="card" style="display: none;">
                    <div class="flex justify-between items-center mb-2">
                        <div class="text-sm text-muted">NPK Codes (Bau)</div>
                        <button class="btn btn-sm btn-ghost text-accent" onclick="openEditModal('npk')">Ã„ndern</button>
                    </div>
                    <div id="ai-npk-codes" class="flex flex-col gap-2">
                        <!-- Populated by JS -->
                    </div>
                </div>

                <!-- Region -->
                <div class="card">
                    <div class="flex justify-between items-center mb-2">
                        <div class="text-sm text-muted">Region</div>
                        <button class="btn btn-sm btn-ghost text-accent"
                            onclick="openEditModal('region')">Ã„ndern</button>
                    </div>
                    <div id="ai-region" class="text-h3">ZÃ¼rich, Aargau, Zug</div>
                </div>

                <button class="btn btn-lg btn-primary mt-4" onclick="navigateTo('dashboard')">
                    Profil bestÃ¤tigen & Matches anzeigen
                </button>
            </div>
        </div>
    </div>

    <!-- 5. Dashboard View -->
    <div id="view-dashboard" class="view">
        <div class="container pt-8">
            <!-- Breadcrumb -->
            <nav class="breadcrumb" aria-label="Breadcrumb">
                <span class="breadcrumb-item is-clickable" onclick="navigateTo('profile-selection')">Meine Profile</span>
                <span class="breadcrumb-separator">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="9 18 15 12 9 6"/>
                    </svg>
                </span>
                <span class="breadcrumb-item is-current">MÃ¼ller Bau AG</span>
            </nav>

            <div class="flex justify-between items-center mb-8">
                <h2 class="text-h2">Ausschreibungen</h2>
                <div class="flex gap-2">
                    <button class="btn btn-secondary">Filter</button>
                    <button class="btn btn-secondary">Sortieren</button>
                </div>
            </div>

            <div class="flex gap-4 mb-6 overflow-x-auto pb-1">
                <button class="btn btn-sm btn-primary">Alle (47)</button>
                <button class="btn btn-sm btn-ghost">Offen (32)</button>
                <button class="btn btn-sm btn-ghost">Bald fÃ¤llig (5)</button>
                <button class="btn btn-sm btn-ghost">Gemerkt (12)</button>
            </div>

            <div id="tender-feed" class="tender-grid">
                <!-- Feed injected by JS -->
            </div>
        </div>
    </div>

    <!-- 6. Tender Detail View -->
    <div id="view-tender-detail" class="view">
        <div class="container pt-8">
            <!-- Dynamic Breadcrumb -->
            <nav id="tender-detail-breadcrumbs" class="breadcrumb" aria-label="Breadcrumb">
                <!-- Injected via JS -->
            </nav>

            <div class="card" id="tender-detail-content">
                <!-- Content injected by JS -->
            </div>
        </div>
    </div>

    <!-- Modals -->
    <div id="modal-filter" class="modal-backdrop" onclick="if(event.target === this) toggleModal('filter', false)">
        <div class="modal">
            <div class="modal-header">
                <h3 class="text-h3">Filter</h3>
                <button class="btn btn-sm btn-ghost" onclick="toggleModal('filter', false)">âœ•</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Status</label>
                    <div class="flex flex-col gap-2">
                        <label class="flex items-center gap-2">
                            <input type="checkbox" id="filter-status-open" checked> <span>Offen</span>
                        </label>
                        <label class="flex items-center gap-2">
                            <input type="checkbox" id="filter-status-closing" checked> <span>Bald fÃ¤llig</span>
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Region</label>
                    <select id="filter-region" class="input">
                        <option value="all">Alle Regionen</option>
                        <option value="ZH">ZÃ¼rich</option>
                        <option value="BE">Bern</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Min. Auftragswert (CHF)</label>
                    <input type="range" class="w-full">
                    <div class="flex justify-between text-sm text-muted">
                        <span>0</span>
                        <span>5 Mio.+</span>
                    </div>
                </div>
                <!-- Matches Only Toggle -->
                <div class="form-group">
                    <label class="flex items-center gap-2">
                        <input type="checkbox" id="filter-matches-only">
                        <span class="font-medium">Nur hohe Ãœbereinstimmung (>80%)</span>
                    </label>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="toggleModal('filter', false)">ZurÃ¼cksetzen</button>
                <button class="btn btn-primary" onclick="applyFilters()">Anwenden</button>
            </div>
        </div>
    </div>

    <!-- 7. Settings / Subscription View (New) -->
    <div id="view-settings" class="view">
        <div class="container container--wide pt-8">
            <!-- Breadcrumb -->
            <nav class="breadcrumb" aria-label="Breadcrumb">
                <span class="breadcrumb-item is-clickable" onclick="navigateTo('profile-selection')">Meine Profile</span>
                <span class="breadcrumb-separator">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="9 18 15 12 9 6"/>
                    </svg>
                </span>
                <span class="breadcrumb-item is-clickable" onclick="navigateTo('dashboard')">MÃ¼ller Bau AG</span>
                <span class="breadcrumb-separator">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="9 18 15 12 9 6"/>
                    </svg>
                </span>
                <span class="breadcrumb-item is-current">Einstellungen</span>
            </nav>

            <h1 class="text-h1 mb-8">Einstellungen</h1>

            <div class="settings-layout">
                <!-- Sidebar Navigation -->
                <div class="settings-nav card">
                    <button class="settings-nav-item is-active" onclick="showSettingsTab('billing')">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect width="20" height="14" x="2" y="5" rx="2"/>
                            <line x1="2" x2="22" y1="10" y2="10"/>
                        </svg>
                        Abo & Zahlungen
                    </button>
                    <button class="settings-nav-item" onclick="showSettingsTab('profile')">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/>
                            <circle cx="12" cy="7" r="4"/>
                        </svg>
                        Profil Details
                    </button>
                    <button class="settings-nav-item" onclick="showSettingsTab('notifications')">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"/>
                            <path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"/>
                        </svg>
                        Benachrichtigungen
                    </button>
                    <button class="settings-nav-item" onclick="showSettingsTab('team')">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                            <circle cx="9" cy="7" r="4"/>
                            <path d="M22 21v-2a4 4 0 0 0-3-3.87"/>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                        </svg>
                        Team verwalten
                    </button>
                </div>

                <!-- Content Panels -->
                <div class="settings-content">
                    <!-- Billing Tab -->
                    <div id="settings-billing" class="settings-panel is-active">
                        <!-- Current Plan -->
                        <div class="card">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <h3 class="text-h3 mb-1">Dein Plan: Professional</h3>
                                    <p class="text-secondary text-sm">NÃ¤chste Abrechnung am 01.02.2026</p>
                                </div>
                                <span class="badge badge-green">Aktiv</span>
                            </div>
                            <div class="price-display">CHF 99.<span class="price-period">/Monat</span></div>
                            <div class="flex gap-3 mt-6">
                                <button class="btn btn-secondary btn-sm">Plan kÃ¼ndigen</button>
                                <button class="btn btn-primary btn-sm">Upgrade auf Enterprise</button>
                            </div>
                        </div>

                        <!-- Payment Method -->
                        <div class="card">
                            <h3 class="text-h3 mb-4">Zahlungsmethode</h3>
                            <div class="settings-payment-card">
                                <div class="flex items-center gap-4">
                                    <div class="settings-card-icon">
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <rect width="20" height="14" x="2" y="5" rx="2"/>
                                            <line x1="2" x2="22" y1="10" y2="10"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <div class="font-medium">â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ 4242</div>
                                        <div class="text-xs text-secondary">Visa â€¢ VerfÃ¤llt 12/28</div>
                                    </div>
                                </div>
                                <button class="btn btn-ghost btn-sm">Bearbeiten</button>
                            </div>
                            <button class="btn btn-ghost text-accent mt-3 pl-0">+ Neue Karte hinzufÃ¼gen</button>
                        </div>

                        <!-- Invoices -->
                        <div class="card">
                            <h3 class="text-h3 mb-4">Rechnungen</h3>
                            <div class="settings-invoice-list">
                                <div class="settings-invoice-item">
                                    <div>
                                        <div class="font-medium">Januar 2026</div>
                                        <div class="text-xs text-secondary">01.01.2026 â€¢ #INV-2026-001</div>
                                    </div>
                                    <div class="flex items-center gap-4">
                                        <span class="text-sm font-medium">CHF 99.00</span>
                                        <button class="btn btn-ghost btn-sm text-accent">PDF</button>
                                    </div>
                                </div>
                                <div class="settings-invoice-item">
                                    <div>
                                        <div class="font-medium">Dezember 2025</div>
                                        <div class="text-xs text-secondary">01.12.2025 â€¢ #INV-2025-012</div>
                                    </div>
                                    <div class="flex items-center gap-4">
                                        <span class="text-sm font-medium">CHF 99.00</span>
                                        <button class="btn btn-ghost btn-sm text-accent">PDF</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Profile Tab -->
                    <div id="settings-profile" class="settings-panel">
                        <div class="card">
                            <h3 class="text-h3 mb-6">Firmenprofil</h3>
                            <div class="settings-form-grid">
                                <div class="form-group">
                                    <label class="form-label">Firmenname</label>
                                    <input type="text" class="input" value="MÃ¼ller Bau AG" />
                                </div>
                                <div class="form-group">
                                    <label class="form-label">UID-Nummer</label>
                                    <input type="text" class="input" value="CHE-123.456.789" disabled />
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Branche</label>
                                    <select class="input">
                                        <option selected>Baugewerbe / Hochbau</option>
                                        <option>Baugewerbe / Tiefbau</option>
                                        <option>IT-Dienstleistungen</option>
                                        <option>Gartenbau</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">UnternehmensgrÃ¶sse</label>
                                    <select class="input">
                                        <option>1-9 Mitarbeitende</option>
                                        <option selected>10-49 Mitarbeitende</option>
                                        <option>50-249 Mitarbeitende</option>
                                        <option>250+ Mitarbeitende</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group mt-4">
                                <label class="form-label">Adresse</label>
                                <input type="text" class="input" value="Bahnhofstrasse 42, 8001 ZÃ¼rich" />
                            </div>
                            <button class="btn btn-primary mt-6">Ã„nderungen speichern</button>
                        </div>

                        <div class="card">
                            <h3 class="text-h3 mb-6">Kontaktperson</h3>
                            <div class="settings-form-grid">
                                <div class="form-group">
                                    <label class="form-label">Vorname</label>
                                    <input type="text" class="input" value="Hans" />
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Nachname</label>
                                    <input type="text" class="input" value="MÃ¼ller" />
                                </div>
                                <div class="form-group">
                                    <label class="form-label">E-Mail</label>
                                    <input type="email" class="input" value="hans.mueller@muellerbau.ch" />
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Telefon</label>
                                    <input type="tel" class="input" value="+41 44 123 45 67" />
                                </div>
                            </div>
                            <button class="btn btn-primary mt-6">Ã„nderungen speichern</button>
                        </div>
                    </div>

                    <!-- Notifications Tab -->
                    <div id="settings-notifications" class="settings-panel">
                        <div class="card">
                            <h3 class="text-h3 mb-2">E-Mail Benachrichtigungen</h3>
                            <p class="text-secondary text-sm mb-6">WÃ¤hlen Sie, welche E-Mails Sie erhalten mÃ¶chten.</p>

                            <div class="settings-toggle-list">
                                <div class="settings-toggle-item">
                                    <div>
                                        <div class="font-medium">Neue Ausschreibungen</div>
                                        <div class="text-sm text-secondary">Erhalten Sie eine E-Mail bei neuen passenden Ausschreibungen</div>
                                    </div>
                                    <label class="toggle">
                                        <input type="checkbox" checked />
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                                <div class="settings-toggle-item">
                                    <div>
                                        <div class="font-medium">Frist-Erinnerungen</div>
                                        <div class="text-sm text-secondary">Erinnerung 3 Tage vor Ablauf der Eingabefrist</div>
                                    </div>
                                    <label class="toggle">
                                        <input type="checkbox" checked />
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                                <div class="settings-toggle-item">
                                    <div>
                                        <div class="font-medium">WÃ¶chentlicher Digest</div>
                                        <div class="text-sm text-secondary">Zusammenfassung aller neuen Ausschreibungen jeden Montag</div>
                                    </div>
                                    <label class="toggle">
                                        <input type="checkbox" />
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                                <div class="settings-toggle-item">
                                    <div>
                                        <div class="font-medium">Produkt-Updates</div>
                                        <div class="text-sm text-secondary">Neuigkeiten zu neuen Funktionen und Verbesserungen</div>
                                    </div>
                                    <label class="toggle">
                                        <input type="checkbox" checked />
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <h3 class="text-h3 mb-2">Benachrichtigungsfrequenz</h3>
                            <p class="text-secondary text-sm mb-6">Wie oft mÃ¶chten Sie Ã¼ber neue Ausschreibungen informiert werden?</p>

                            <div class="settings-radio-group">
                                <label class="settings-radio-item">
                                    <input type="radio" name="frequency" value="instant" checked />
                                    <div>
                                        <div class="font-medium">Sofort</div>
                                        <div class="text-sm text-secondary">Bei jeder neuen Ausschreibung</div>
                                    </div>
                                </label>
                                <label class="settings-radio-item">
                                    <input type="radio" name="frequency" value="daily" />
                                    <div>
                                        <div class="font-medium">TÃ¤glich</div>
                                        <div class="text-sm text-secondary">Einmal pro Tag um 08:00 Uhr</div>
                                    </div>
                                </label>
                                <label class="settings-radio-item">
                                    <input type="radio" name="frequency" value="weekly" />
                                    <div>
                                        <div class="font-medium">WÃ¶chentlich</div>
                                        <div class="text-sm text-secondary">Jeden Montag um 08:00 Uhr</div>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Team Tab -->
                    <div id="settings-team" class="settings-panel">
                        <div class="card">
                            <div class="flex justify-between items-center mb-6">
                                <div>
                                    <h3 class="text-h3 mb-1">Teammitglieder</h3>
                                    <p class="text-secondary text-sm">3 von 5 PlÃ¤tzen belegt</p>
                                </div>
                                <button class="btn btn-primary btn-sm">+ Mitglied einladen</button>
                            </div>

                            <div class="settings-team-list">
                                <div class="settings-team-member">
                                    <div class="settings-avatar">HM</div>
                                    <div class="flex-1">
                                        <div class="font-medium">Hans MÃ¼ller</div>
                                        <div class="text-sm text-secondary">hans.mueller@muellerbau.ch</div>
                                    </div>
                                    <span class="badge badge-blue">Admin</span>
                                </div>
                                <div class="settings-team-member">
                                    <div class="settings-avatar">AS</div>
                                    <div class="flex-1">
                                        <div class="font-medium">Anna Schmidt</div>
                                        <div class="text-sm text-secondary">anna.schmidt@muellerbau.ch</div>
                                    </div>
                                    <span class="badge badge-gray">Mitglied</span>
                                    <button class="btn btn-ghost btn-sm">Entfernen</button>
                                </div>
                                <div class="settings-team-member">
                                    <div class="settings-avatar">PW</div>
                                    <div class="flex-1">
                                        <div class="font-medium">Peter Weber</div>
                                        <div class="text-sm text-secondary">peter.weber@muellerbau.ch</div>
                                    </div>
                                    <span class="badge badge-gray">Mitglied</span>
                                    <button class="btn btn-ghost btn-sm">Entfernen</button>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <h3 class="text-h3 mb-2">Rollen & Berechtigungen</h3>
                            <p class="text-secondary text-sm mb-6">Ãœbersicht der verfÃ¼gbaren Rollen in Ihrem Team.</p>

                            <div class="settings-roles-list">
                                <div class="settings-role-item">
                                    <div>
                                        <div class="font-medium">Administrator</div>
                                        <div class="text-sm text-secondary">Voller Zugriff auf alle Einstellungen und Teammitglieder</div>
                                    </div>
                                </div>
                                <div class="settings-role-item">
                                    <div>
                                        <div class="font-medium">Mitglied</div>
                                        <div class="text-sm text-secondary">Kann Ausschreibungen ansehen und bearbeiten</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Modal -->
    <div id="modal-edit" class="modal-backdrop" onclick="if(event.target === this) toggleModal('edit', false)">
        <div class="modal">
            <div class="modal-header">
                <h3 id="modal-edit-title" class="text-h3">Bearbeiten</h3>
                <button class="btn btn-sm btn-ghost" onclick="toggleModal('edit', false)">âœ•</button>
            </div>
            <div class="modal-body" id="modal-edit-content">
                <!-- Content injected by JS -->
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="toggleModal('edit', false)">Abbrechen</button>
                <button class="btn btn-primary" onclick="saveEdit()">Speichern</button>
            </div>
        </div>
    </div>

    <script src="js/script.js"></script>
    <script>
        function toggleModal(id, show) {
            const el = document.getElementById(`modal-${id}`);
            if (show) {
                el.classList.add('active');
            } else {
                el.classList.remove('active');
            }
        }

        // Attach to Filter button
        document.addEventListener('DOMContentLoaded', () => {
            const filterBtn = document.querySelector('#view-dashboard .btn-secondary'); // First secondary button is filter
            if (filterBtn) {
                filterBtn.onclick = () => toggleModal('filter', true);
            }
        });
    </script>
</body>

</html>